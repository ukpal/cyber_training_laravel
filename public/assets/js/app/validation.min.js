function showSnacBar(message, type) {
	if ($(".flash-message").length > 0) {
		$(".flash-message").remove();
	}
	var classname = "flash-message alert";
	if (type == "success") {
		classname += " alert-success";
	} else if (type == "error") {
		classname += " alert-danger";
	} else if (type == "warning") {
		classname += " alert-warning";
	}

	var $div = $("<div>", { class: classname, role: "alert" });
	$div.html(message);
	$("body").append($div);

	setTimeout(function () {
		var fm = $(".flash-message");
		fm.hide();
	}, 5000);
}

$("document").ready(function(){
    setTimeout(function(){
       $("div.alert").remove();
    }, 5000 ); // 5 secs
});

function showError(ele, msg) {
	//$("#" + ele).addClass("form-error");
	$("#" + ele)
		.parent()
		.append('<small class="form-error text-danger">' + msg + "</small>");
	error = true;
}

//hide error message
function hideError(ele) {
	$("#" + ele).removeClass("form-error");
	$("#" + ele)
	.parent()
	.find($(".form-error"))
	.remove();
}

//trim spaces
function trimSpace(val) {
	return val.replace(/^\s*/, "").replace(/\s*$/, "");
}

//accepts number only
$(".number").keypress(function (key) {
	if (key.charCode == 0) return true;
	if (key.charCode < 48 || key.charCode > 57) return false;
});

//validate mobile num
function validateMobile(mobilenum) {
	var is_valid = mobilenum.match("[0-9]{10}");
	if (null === is_valid) {
		return false;
	} else {
		return true;
	}
}

//validate email address
function validateEmail(emailadd) {
	var re = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
	var is_valid = re.test(emailadd);
	if (!is_valid) {
		return false;
	} else {
		return true;
	}
}

//valid govt domain address
function validateGovtDomain(domain) {
	//return true;
	if( (domain.indexOf('gov.in') !== -1) 
		|| (domain.indexOf('nic.in') !== -1) 
		|| (domain.indexOf('wtl.co.in') !== -1)){
		return true;
	} else {
		return false;
	}
}

//no free email allowed
function noFreeEmail(email) {
	var re = /^([\w-.]+@(?!gmail\.com)(?!yahoo\.com)(?!hotmail\.com)(?!mail\.ru)(?!yandex\.ru)(?!mail\.com)(?!rediffmail\.com)([\w-]+.)+[\w-]{2,4})?$/;
	var is_valid = re.test(email);
	if (!is_valid) {
		return false;
	} else {
		return true;
	}
}

//count character
function countChar(val, ele, max) {
	var len = val.length;
	if (len >= max) {
		val = val.substring(0, max);
	} else {
		var char = max - len;
		$("#" + ele).text(char + " characters left");
	}
}

/* $("body").on("copy paste", 'input[type="text"]', function (e) {
    e.preventDefault();
});

$("input").on("drop", function (event) {
    event.preventDefault();
}); */

$("input.decimal").bind("change keyup input", function () {
	var position = this.selectionStart - 1;
	//remove all but number and .
	var fixed = this.value.replace(/[^0-9\.]/g, "");
	if (fixed.charAt(0) === ".")
		//can't start with .
		fixed = fixed.slice(1);

	var pos = fixed.indexOf(".") + 1;
	if (pos >= 0)
		//avoid more than one .
		fixed = fixed.substr(0, pos) + fixed.slice(pos).replace(".", "");

	if (this.value !== fixed) {
		this.value = fixed;
		this.selectionStart = position;
		this.selectionEnd = position;
	}
});


function ValidateIPaddress(ipaddress){
    var split_ip    =   ipaddress.split('.');
    var split_ip_length =   split_ip.length;
   
    if (split_ip_length==4){        
        if( ( (split_ip[0]>0 ) && (split_ip[0]<=255 ) )
            && ( (split_ip[1]<=255 ) && (split_ip[1]>=0 ) && (split_ip[1]!='' )) 
            && ( (split_ip[2]>=0 ) && (split_ip[2]<=255 ) && (split_ip[2]!='' )) 
            &&  ( (split_ip[3]<=255 ) && (split_ip[3]>=0) && (split_ip[3]!=''))  
        ){
            return false;
        }else{
            console.log('b')
        }
     }else{
        console.log('a')
    }
 	return true;
}

function ValidateIPv6address(ipaddress) {
	var expression = /(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/;

	if (expression.test(ipaddress)){
	    return false;
	}else
	{
	    return true;
	}
}

$('.submit').keypress(function(e) {
	if (e.which == 13) {
		$(this).closest('form').submit();
		return false;
	}
});

$(document).on("click", ".btn-close", function () {
	var el = $('.modal').attr("id");
	$('#' + el).modal('hide');
});	


//-------------------------------SB--------------------------//


$(document).on("change", ".c_prmt_adress", function () {
	var c_prmt_adress = $("#c_prmt_adress").val();
   	if (c_prmt_adress == "1") {
       $(".form1").show();
    }else{
        $(".form1").hide();
	}
});

$(document).on("focusout", ".c_prmt_adress", function () {
	var c_prmt_adress = $("#c_prmt_adress").val();
	if (c_prmt_adress == "") {
		showError("c_prmt_adress", "Require");
	}
});



$(document).on("change", ".c_prf_crtf", function () {
	var c_prf_crtf = $("#c_prf_crtf").val();
    if (c_prf_crtf == "1") {
	    $(".form4").show();
    }else{

        $(".form4").hide();
	}
});

$(document).on("change", ".radio", function () {
	if( $('input[name="cand_step"]:checked').val()=="Student"){
		$(".form3").hide();
		$(".form2").show();
	}
	else if($('input[name="cand_step"]:checked').val()=="Industry Professional"){
		$(".form3").show();
		$(".form2").hide();
	}
});


$(document).on("change", ".c_req_crtf", function () {
	var c_req_crtf = $("#c_req_crtf").val();
    if (c_req_crtf == "1") {
       	$(".awrd").show();
    }else{

        $(".awrd").hide();
	}
});


$(document).on("change", ".c_publc_crtf", function () {
	var c_publc_crtf = $("#c_publc_crtf").val();
    if (c_publc_crtf == "1") {
       	$(".papr").show();
    }else{
        $(".papr").hide();
	}
});

$(document).on("change", ".c_thng_crtf", function () {
	var c_thng_crtf = $("#c_thng_crtf").val();
	if (c_thng_crtf == "1") {
	   	$(".thougt").show();
	}else{

	    $(".thougt").hide();
	}
});

$(document).on('focusout', '#c_email', function() {
	var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
	hideError('c_email');
	c_email	=	$(this).val();

	if (c_email=="") {
		showError('c_email', 'Email Address can\'t blank');
	}else if (!regex.test(c_email)) {
		showError('c_email', 'Invalid Email Address');
	}    
});

//phone number validation 
$(document).on('focusout', '#c_phone_no', function() {
	hideError('c_phone_no');
	var c_phone_no	=	$(this).val();
	if (c_phone_no=="") {
		showError('c_phone_no', 'Mobile Number can\'t blank');
	}else if ('10' != (c_phone_no.length)) {
		showError('c_phone_no', 'Invalid Mobile Number');
	}  
});

function is_aplhabets(val){
	var regex = new RegExp("^[a-zA-Z ]+$");
	if(regex.test(val.trim())){
		return true;
	}else{
		return false;
	}	
}

$(document).on('focusout', '#c_name', function() {
	var c_name = $('#c_name').val();
	hideError('c_name');
	if (c_name=="") {		
		showError('c_name', 'Name can\'t blank');
	}else if(!is_aplhabets(c_name)){		
		showError('c_name', 'Invalid Name');
	}
});

$(document).on('click', '.btn-apply', function() {	
	hideError('c_name');
	hideError('c_phone_no');
	hideError('c_email');
	hideError('c_dob');
	hideError('radio');
    hideError('c_prmt_adress');
	hideError('c_cv');
	hideError('c_org');
	
    var error    =    false;
	var error_msg    =    "";	
	var c_prmt_adress = $("#c_prmt_adress").val();

	if (c_prmt_adress == "") {
		showError("c_prmt_adress", "Please select any one option")
		error=true;
	}

	if (c_prmt_adress == "1") {
		var c_name = $("#c_name").val();
		var c_phone_no = $("#c_phone_no").val();
		var c_email = $("#c_email").val();
		var c_dob = $("#c_dob").val();
		if(c_name==""){
			showError("c_name", "Please enter your name")
			error=true;
		}else if(!is_aplhabets(c_name)){
			showError('c_name', 'Invalid Name');
			error=true;
		}

		if (c_phone_no=="" ) {
			showError('c_phone_no', 'Please enter your mobile number');
			error=true;
	  	}else if ('10' != (c_phone_no.length)) {
			showError('c_phone_no', 'Invalid Mobile Number');
			error=true;
		}

		if (c_email=="" ) {
			showError('c_email', 'Please enter your valid e-mail id');
			error=true;
		}

		if (c_dob=="" ) {
			showError('c_dob', 'Please enter your Date of Birth');
			error=true;
		}
		 
		if( $('input[name="cand_step"]:checked').length==0){
			showError('radio', 'Please select one status');
			error=true;
		}

		var c_cv = $("#c_cv").val();
		if (c_cv=="" ) {
			showError('c_cv', 'Please upload your CV');
			error=true;
		}

		var c_org = $("#c_org").val();
		if ($('input[name="cand_step"]:checked').val()=="Industry Professional" && c_org=="" ) {
			showError('c_org', 'Please enter your organization name');
			error=true;
		}

		var c_inst = $("#c_inst").val();
		if ($('input[name="cand_step"]:checked').val()=="Student" && c_inst=="" ) {
			showError('c_inst', 'Please enter your institution name');
			error=true;
			console.log('institution error');
		}

		var c_prf_crtf = $("#c_prf_crtf").val();
	  	var c_year_exp = $("#c_year_exp").val();
	  	var c_month_exp = $("#c_month_exp").val();
	  	hideError('exp');
		if(c_prf_crtf=="1"){
			if((c_year_exp=="0")&&(c_month_exp=="0")){
				showError('exp', 'Please enter your experience duration');
				error=true;
			}
		}
	}else{
		error=true;
	}

	if (!error) { 	  
	    $('.btn-apply').removeAttr("type").attr("type", "submit");
	}else {
		if(c_prmt_adress == "0"){
			Swal.fire('Opps!', 'You Cannot Register,you are not permanent resident of West Bengal', 'error');
		}else{
			Swal.fire('Opps!', 'Please fillup the required field(s)', 'warning');
		}		
	}
});










